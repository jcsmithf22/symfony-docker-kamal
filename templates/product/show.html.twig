{% extends 'base.html.twig' %}

{% block title %}Products | {{ product.name }}{% endblock %}

{% block body %}
<div class="padding-double product__title">
    <h1>
        <a href="{{ path('products') }}">Products</a>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right-icon lucide-chevron-right"><path d="m9 18 6-6-6-6"/></svg>
        <span>{{ product.name }}</span>
    </h1>
    <div class="product__title-controls">
        <a class="btn btn-faint" href="{{ path('edit_product', {id: product.id}) }}">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil-ruler-icon lucide-pencil-ruler"><path d="M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13"/><path d="m8 6 2-2"/><path d="m18 16 2-2"/><path d="m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17"/><path d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"/><path d="m15 5 4 4"/></svg>
        </a>
        <form method="post" action="{{ path('delete_product', {id: product.id}) }}" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this product?')">
            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ product.id) }}">
            <button type="submit" class="btn btn-danger">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash-icon lucide-trash"><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/><path d="M3 6h18"/><path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
            </button>
        </form>
    </div>
</div>
<div class="divider-block"></div>
<section class="padding-double">
    <p>{{ product.description }}</p>
    <p>Price: ${{ (product.price / 100)|number_format(2, '.', '') }}</p>
</section>
{% endblock %}
